{% load audiosearch_extras %}

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <!--Google analytics-->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-51583732-1', 'audiosearch.net');
      ga('send', 'pageview');

    </script><!--END analytics-->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
   
    <link href="{{ STATIC_URL }}css/bootstrap.min.css" rel="stylesheet">
    <link href="{{ STATIC_URL }}css/grid.css" rel="stylesheet">

    <title>audiosearch</title>
</head>
<body>

<div class="container">
    <div class="nav wrap">

    </div>

    <div class="banner-container wrap">
        <!--image banner-->
        <div id="image-banner">
            <!--spinner display-->
            {% if status == 'pending' %}
                <img id="spinner" src="{{ STATIC_URL }}img/ajax-loader.gif" />
            {% elif status == 'failed' %}
                {{ message }}
            {% endif %}
            <!--END spinner-->

            <!--tiled images-->
            {% for tile in tiles %}
            <!--HIT: load tiles -->
            <div class="tile-wrapper">
                <img id={{ tile.0 }} class="tile-image" src={{ tile.1 }} />
            </div>
            {% endfor %}
            <!--END tiles-->

            <!--container:: h=300, w=1186-->
            <!--image:: h=300, w=296.5-->
        </div><!--END image banner-->

        <!--banner title-->
        <div id="banner-title">
            <div id="name">
                {{ name }}
            </div>
        </div><!--END banner title-->

    </div>

    <div class="content wrap">
        <div class="separator"></div>

        <!--rating, rank, bio-->
        <div class="row">
            <div class="rating-box col-lg-2">
                <span class="glyphicon glyphicon-fire"></span>
                <span id="hotttnesss" class="artist-hint" title="A representation of how popular an artist is.">
                    {{ hotttnesss }}
                </span>
                
                <br />
                Rank: 
                <span id="hotttnesss_rank" class="rank">
                    {{ hotttnesss_rank }}
                </span>
            </div>

            <div id="bios" class="bio-box col-lg-10">
                <span id="bio_trunc">
                    {{ bio_trunc }}
                </span>
                <!-- TODO: add toggle for full bio modal -->
                <!-- <span id="bio-toggle" title="Expand this biography.">
                    more
                </span> -->
            </div>
        </div>
        <!--END rating, rank, bio-->

        <div class="separator"></div>

        <!--songs and similar-->
        <div class="row">
            <div class="content-left col-lg-7">
                <table id="song-table" class="table">
                    {% if songs %}
                    <tbody>
                        {% for song in songs %}
                            <tr>
                                <td>{{ forloop.counter }}</td>
                                <td>{{ song.title }}</td>
                                <td>{{ song.id }}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                    {% endif %}
                </table>
            </div>
            
            <div class="content-right col-lg-5">
                3
            </div>
        </div>
        <!--END songs and similar-->
    </div>

    <div class="separator"></div>

    <div class="footer wrap">
        
    </div><!--END footer-->

    <!-- <div class="reflection main"></div> -->
</div><!--END container-->

<script src="{{ STATIC_URL }}js/jquery-1.11.0.js"></script>
<script src="{{ STATIC_URL }}js/bootstrap.min.js"></script>
<script src="{{ STATIC_URL }}js/artist-utils.js"></script>
{% if status == 'pending' %}
    <script type="text/javascript">
        var q = fetch_query_string();
        fetch_request(q, 0);
    </script>
{% endif %}
</body>
</html>
