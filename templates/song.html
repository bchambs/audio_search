{% load audiosearch_extras %}

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<!-- need to give credit for the font...-->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
   
    <link href="{{ STATIC_URL }}css/bootstrap.min.css" rel="stylesheet">
    <link href="{{ STATIC_URL }}css/grid.css" rel="stylesheet">

<title>audiosearch</title>

</head>

<body>

<div class="container">

    <!--left column-->
    <div class="col-lg-1"></div>

    <!--main column-->
    <div class="content-main-col" class="col-lg-10">

        <!--header block-->
        <div class="title-box row">

            <!--title block-->
            <div class="search-container col-lg-5">
                <img src="{{ STATIC_URL }}img/title.png" class="title-img-container">

                <form action="/search/" method="GET">
                    <input class="search-bar" type="text" name="q">
                </form>
            </div><!--END title-->

            <div class="tag-container col-lg-7">
                <div class="tag-block">
                    a simple way to find new music.
                </div>
            </div>
        </div><!--END header-->

        <div class="content-h-separator row"></div>

        <!--nav buttons-->
        <div class="row center">
            <div class="nav-button col-lg-2">
                <a href="{% url 'home.views.index' %}"><span class="nav-link"></span></a>
                <div class="box-footer">
                    home
                </div>
            </div>

            <div class="content-w-separator col-lg-1"></div>

            <div class="nav-button col-lg-2">
                <a href="{% url 'home.views.trending' %}"><span class="nav-link"></span></a>
                <div class="box-footer">
                    trending
                </div>
            </div>

            <div class="content-w-separator col-lg-1"></div>

            <div class="nav-button col-lg-2">
                <a href="{% url 'home.views.artist_info' %}?q={{ featured.split|join:'+' }}"><span class="nav-link"></span></a>
                <div class="box-footer">
                    featured
                </div>
            </div>

            <div class="content-w-separator col-lg-1"></div>

            <div class="nav-button col-lg-2">
                <a href="{% url 'home.views.compare' %}"><span class="nav-link"></span></a>
                <div class="box-footer">
                    compare
                </div>
            </div>

            <div class="content-w-separator col-lg-1"></div>

            <div class="nav-button col-lg-2">
                <a href="{% url 'home.views.about' %}"><span class="nav-link"></span></a>
                <div class="box-footer">
                    about
                </div>
            </div>
        </div>
        <!--END nav-->

        <div class="content-h-separator row"></div>
        
        {% if display == True %}
            <!--song info-->
            <div class="row center">
                <div class="content-box">
                    <div class="title-text">
                        {{ title }} - <span class="uline" title="A representation of how popular an artist or song is.">{{ hot|to_percent }}%</span>
                    </div>

                    <div class="subtitle-text ital"> 
                        by  <a href = "{% url 'home.views.artist_info' %}?q={{ artist_id.split|join:'+' }}" > {{ artist }}</a>
                    </div>
                    <br />

                    Duration: {{ duration|floatformat:"0" }} seconds<br />
                    Danceability: {{ dance|to_percent }}%<br />
                    Energy: {{ energy|to_percent }}%<br />
                    Liveliness: {{ liveness|to_percent }}%<br />
                    Speechines: {{ speechiness|to_percent }}%<br />
                </div>
            </div><!--END song-->

            <div class="content-h-separator row"></div>

            <!--dual columns-->
            <div class="row center">

                <div class="col-lg-5 content-box double-col">
                    <div class="subtitle-text">Similar Songs</div>
                    
                    {% if similar_songs %}
                    <ul>
                        {% for s in similar_songs %}
                            <li>
                                <a href = "{% url 'home.views.song_info' %}?q={{ s.id.split|join:'+' }}" > {{ s }}</a>
                            </li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                    
                </div><!--END song block-->

                <div class="content-w-separator col-lg-1"></div>

                <div class="col-lg-5 content-box double-col">
                     <div class="subtitle-text">Similar Artists</div>
                    
                    {% if similar_artists %}
                    <ul>
                        {% for a in similar_artists %}
                            {{ forloop.counter }}.  
                            <a href = "{% url 'home.views.artist_info' %}?q={{ a.id.split|join:'+' }}" > {{ a }}</a>
                            <br />
                        {% endfor %}
                    </ul>
                    {% endif %}
                    
                </div><!--END artist block-->
            </div><!--END dual columns-->

        {% else %}
            <div class="row center">
                <div class="content-box">
                    <div class="subtitle-text ital">
                        We could not find information on this song.  Try again with a different title.
                    </div>
                </div>
            </div>
        {% endif %}

        <div class="content-h-separator row"></div>

        <div class="row center">
            <div class="content-box">
                Note: (nothing for now).
            </div>
        </div>
    </div><!--END main-->

    <!--right column-->
    <div class="col-lg-1"></div>
</div>

<script src="{{ STATIC_URL }}js/jquery-1.11.0.js"></script>
<script src="{{ STATIC_URL }}js/bootstrap.min.js"></script>
</body>

</html>
